<!DOCTYPE html>
<html>
<head>
<title>Spring Boot WebSocket Messaging</title>
<script type="text/javascript"
	src="//cdn.jsdelivr.net/jquery/2.2.0/jquery.min.js"></script>
<script type="text/javascript"
	src="//cdn.jsdelivr.net/sockjs/1.0.3/sockjs.min.js"></script>
<script type="text/javascript"
	src="//cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
</head>
<body>
	<div>
		<h3>Send message:</h3>
		<input type="text" id="message"> 
		<input type="button" onclick="sendMessage()" value = "Send">
		<h3>Messages:</h3>
		<ol id="messages"></ol>
	</div>
	<script type="text/javascript">
		var socket = new SockJS('/ws');
		var stompClient = Stomp.over(socket);

		$(document).ready(function() {
			var messageList = $("#messages");
			stompClient.connect({}, function(frame) {
					var message = data.body;
					messageList.append("<li>" + message + "</li>");
				});
			}, function(error) {
				console.log("STOMP protocol error - " + error);
			});
		});

		function sendMessage() {
			var mes = $("#message").val();
			console.log("Send message - " + mes);
		}
	</script>
</body>
</html>